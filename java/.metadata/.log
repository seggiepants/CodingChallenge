!SESSION 2018-12-26 16:37:16.754 -----------------------------------------------
eclipse.buildId=4.10.0.I20181206-0815
java.version=1.8.0_192
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US
Framework arguments:  -product org.eclipse.epp.package.java.product
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.java.product

!ENTRY org.eclipse.egit.ui 2 0 2018-12-26 16:37:42.708
!MESSAGE Warning: The environment variable HOME is not set. The following directory will be used to store the Git
user global configuration and to define the default location to store repositories: 'C:\Users\Stewart'. If this is
not correct please set the HOME environment variable and restart Eclipse. Otherwise Git for Windows and
EGit might behave differently since they see different configuration options.
This warning can be switched off on the Team > Git > Confirmations and Warnings preference page.
!SESSION 2018-12-27 01:02:41.596 -----------------------------------------------
eclipse.buildId=4.10.0.I20181206-0815
java.version=1.8.0_192
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US
Framework arguments:  -product org.eclipse.epp.package.java.product
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.java.product

!ENTRY org.eclipse.egit.ui 2 0 2018-12-27 01:02:53.998
!MESSAGE Warning: The environment variable HOME is not set. The following directory will be used to store the Git
user global configuration and to define the default location to store repositories: 'C:\Users\Stewart'. If this is
not correct please set the HOME environment variable and restart Eclipse. Otherwise Git for Windows and
EGit might behave differently since they see different configuration options.
This warning can be switched off on the Team > Git > Confirmations and Warnings preference page.
!SESSION 2018-12-27 11:29:29.666 -----------------------------------------------
eclipse.buildId=4.10.0.I20181206-0815
java.version=1.8.0_192
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US
Framework arguments:  -product org.eclipse.epp.package.java.product
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.java.product

!ENTRY org.eclipse.egit.ui 2 0 2018-12-27 11:29:46.967
!MESSAGE Warning: The environment variable HOME is not set. The following directory will be used to store the Git
user global configuration and to define the default location to store repositories: 'C:\Users\Stewart'. If this is
not correct please set the HOME environment variable and restart Eclipse. Otherwise Git for Windows and
EGit might behave differently since they see different configuration options.
This warning can be switched off on the Team > Git > Confirmations and Warnings preference page.
!SESSION 2018-12-27 15:39:28.746 -----------------------------------------------
eclipse.buildId=4.10.0.I20181206-0815
java.version=1.8.0_192
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US
Framework arguments:  -product org.eclipse.epp.package.java.product
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.java.product

!ENTRY org.eclipse.egit.ui 2 0 2018-12-27 15:39:40.516
!MESSAGE Warning: The environment variable HOME is not set. The following directory will be used to store the Git
user global configuration and to define the default location to store repositories: 'C:\Users\Stewart'. If this is
not correct please set the HOME environment variable and restart Eclipse. Otherwise Git for Windows and
EGit might behave differently since they see different configuration options.
This warning can be switched off on the Team > Git > Confirmations and Warnings preference page.

!ENTRY org.eclipse.jdt.core 4 4 2018-12-27 16:45:28.645
!MESSAGE Exception occurred during compilation unit conversion:
----------------------------------- SOURCE BEGIN -------------------------------------
package com.segludian.digitaltennis;

import java.awt.Color;
import java.awt.Font;
import java.awt.Graphics;
import java.awt.Rectangle;
import java.awt.event.ComponentEvent;
import java.awt.event.ComponentListener;

import javax.swing.JOptionPane;
import javax.swing.JPanel;

public class GameWorld extends JPanel implements ComponentListener {
	
	/**
	 * Make eclipse happy add a version UID. 
	 */
	private static final long serialVersionUID = 1L;
	
	private final int STATE_SERVE = 0;
	private final int STATE_PLAY = 1;
	private final int STATE_PAUSE = 2;
	private final int STATE_GAME_OVER = 3;
	
	
	private Ball ball;
	private Player playerLeft;
	private Player playerRight;
	private final int fontDistance = 32;
	private final int wallDistance = 32;
	private final int wallSize = 8;
	private Rectangle topWall;
	private Rectangle bottomWall;
	private Rectangle leftOutZone;
	private Rectangle rightOutZone;
	private Color wallColor;
	private Font font;
	private int state = STATE_SERVE;
	private int messageY = 0;
	Main parent;
	
	GameWorld(Main parent, Controller left, Controller right) {
		this.parent = parent;
		this.addComponentListener(this);
		int width = this.getWidth();
		int height = this.getHeight();
		wallColor = Color.WHITE;
		playerLeft = new Player(left, (double)wallDistance, (double) height / 2, width, height);
		playerRight = new Player(right, (double) width - wallDistance - Player.getWidth(), (double) height / 2, width, height);
		resizeWorld();
		font = new Font("SansSerif", Font.BOLD, 21);
		newGame();
	}
	
	public void newGame() {		
		playerLeft.newGame();
		playerRight.newGame();
		stateServe();
	}
	
	public void stateGameOver()
	
	public void statePlay() {
		double newAngle;
		int quadrant;

		state = STATE_PLAY;
		// Want a random angle between -30 and + 30 degrees or 150 to 210 degrees, but not exactly 0, or 180 degrees.
		// I will make 4 areas 1-30, 330-359, 150-179, and 180-210
		newAngle = (Math.random() * Math.PI / 6) + .001;
		quadrant = (int)(Math.random() * 4);
		switch(quadrant)
		{
		case 1:
			newAngle = Math.PI - newAngle;
			break;
		case 2:
			newAngle = Math.PI + newAngle;
			break;
		case 3:
			newAngle = (2.0) * Math.PI - newAngle;
			break;
		}
		ball.setAngle(newAngle);
	}
	
	public void stateServe() {
		int width = this.getWidth();		
		state = STATE_SERVE;
		ball.setX((double) width / 2);
		ball.setY(0);
		ball.setAngle((3.0 * Math.PI) / 2.0);  // Down.
		ball.setSpeed(ball.getDefaultSpeed()); // Fall down.
	}

	
	// Update and Draw commands.
	/**
	 * Draw the game world.
	 * @param g: Graphics rendering context.
	 */
	public void draw(Graphics g) {
		
		int width = this.getWidth();
		int height = this.getHeight();
		int centerX = width / 2;		
		String temp;
		
		// Clear the window
		g.setColor(Color.BLACK);;
		g.clearRect(0,  0,  width,  height);
				
		
		// Draw the borders.
		g.setColor(wallColor);;
		g.fillRect(topWall.x,  topWall.y,  topWall.width,  topWall.height);
		g.fillRect(bottomWall.x,  bottomWall.height,  bottomWall.width,  bottomWall.height);
		
		// Draw a dashed line down the center. 
		g.setColor(Color.WHITE);
		for(int y = 0; y < height; y+= 16) {
			g.drawLine(centerX, y, centerX, y + 8);
		}
		
		// Draw the score.
		// Left Player
		g.setColor(Color.WHITE);
		g.setFont(font);
		g.drawString(String.format("%02d",  playerLeft.getScore()), fontDistance, fontDistance);
		
		// Right Player.
		temp = String.format("%02d",  playerRight.getScore());
		g.drawString(temp,  fontDistance,  width - g.getFontMetrics().stringWidth(temp) - fontDistance);
		
		// Draw the active object.s
		playerLeft.draw(g);
		playerRight.draw(g);
		ball.draw(g);
	}
	
	/**
	 * Update the game world.
	 * @param dt: Milliseconds elapsed since the previous frame.
	 */
	public void update(double dt) {
		
		Rectangle ballRect;

		if (state == STATE_PAUSE) {
			// Do Nothing
		}
		else if (state == STATE_PLAY) {
			// Update the game objects.
			playerLeft.update(dt);
			playerRight.update(dt);
			ball.update(dt);
			
			ballRect = ball.getRectangle();
			
			if (ballRect.intersects(leftOutZone)) {
				playerRight.addPoint();
			}
			
			if (ballRect.intersects(rightOutZone)) {
				playerLeft.addPoint();
			}
			// ZZZ MORE PLEASE
		}
		else if (state == STATE_SERVE) {
			// Move the ball down to the center then switch to play mode.
			double targetY = this.getHeight() / 2;
			if (ball.getY() >= targetY) {
				ball.setY(targetY);
				statePlay();
			}
			else {
				ball.update(dt);
			}
		}
		else if (state == STATE_GAME_OVER) {
			int targetY = this.getHeight() / 2;
			if (messageY >= targetY) {
				messageY = targetY;
				if (JOptionPane.showConfirmDialog(parent, "Game Over!\r\nWould you like to play again?", "Game Over", JOptionPane.YES_NO_OPTION , JOptionPane.QUESTION_MESSAGE) == JOptionPane.YES_OPTION) {
					// Start a new game.
					newGame();
				}
				else {
					// Return to the main menu.
					parent.menuEvent("mainMenu");
				}
			}
		}
		
	}
	
	public void resizeWorld() {
		int width = this.getWidth();
		int height = this.getHeight();
		
		playerLeft.setHome((double) wallDistance, (double)height / 2, width, height);
		playerRight.setHome((double) width - wallDistance - Player.getWidth(),  (double) height / 2, width, height);
		ball.setX((double) width / 2);
		ball.setY((double) height / 2);
		
		this.topWall = new Rectangle(this.wallSize, 0, width - (2 * this.wallSize) , this.wallSize);
		this.bottomWall =  new Rectangle(this.wallSize, height - this.wallSize, width - (2 * this.wallSize), this.wallSize);
		this.leftOutZone = new Rectangle(0, 0, this.wallSize, height);
		this.rightOutZone = new Rectangle(width - this.wallSize, 0, this.wallSize, height);
		
	}
	
	public void componentResized(ComponentEvent e) {
		resizeWorld();
    }
	
	public void componentHidden(ComponentEvent e) {
		// Do nothing, only wanted resize
		// Well maybe auto-pause
    }

    public void componentMoved(ComponentEvent e) {
    	// Do nothing, only wanted resize
    }

    public void componentShown(ComponentEvent e) {
    	// Do nothing, only wanted resize
    }
	
}

----------------------------------- SOURCE END -------------------------------------
!STACK 0
java.lang.IllegalArgumentException
	at org.eclipse.jdt.core.dom.ASTNode.setSourceRange(ASTNode.java:2949)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:636)
	at org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:204)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:3036)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1393)
	at org.eclipse.jdt.core.dom.AST.convertCompilationUnit(AST.java:367)
	at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:202)
	at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:268)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:596)
	at org.eclipse.jdt.internal.core.CompilationUnit.makeConsistent(CompilationUnit.java:1145)
	at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.makeConsistent(ReconcileWorkingCopyOperation.java:173)
	at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:94)
	at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:736)
	at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:802)
	at org.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1322)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:131)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.access$0(JavaReconcilingStrategy.java:113)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:93)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:90)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:157)
	at org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile(CompositeReconcilingStrategy.java:92)
	at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile(JavaCompositeReconcilingStrategy.java:107)
	at org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:76)
	at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:210)

!ENTRY org.eclipse.jdt.ui 4 2 2018-12-27 16:45:28.649
!MESSAGE Problems occurred when invoking code from plug-in: "org.eclipse.jdt.ui".
!STACK 0
java.lang.IllegalArgumentException
	at org.eclipse.jdt.core.dom.ASTNode.setSourceRange(ASTNode.java:2949)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:636)
	at org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:204)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:3036)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1393)
	at org.eclipse.jdt.core.dom.AST.convertCompilationUnit(AST.java:367)
	at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:202)
	at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:268)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:596)
	at org.eclipse.jdt.internal.core.CompilationUnit.makeConsistent(CompilationUnit.java:1145)
	at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.makeConsistent(ReconcileWorkingCopyOperation.java:173)
	at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:94)
	at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:736)
	at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:802)
	at org.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1322)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:131)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.access$0(JavaReconcilingStrategy.java:113)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:93)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:90)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:157)
	at org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile(CompositeReconcilingStrategy.java:92)
	at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile(JavaCompositeReconcilingStrategy.java:107)
	at org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:76)
	at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:210)

!ENTRY org.eclipse.jdt.ui 4 0 2018-12-27 16:45:28.653
!MESSAGE Error in JDT Core during reconcile
!STACK 0
java.lang.IllegalArgumentException
	at org.eclipse.jdt.core.dom.ASTNode.setSourceRange(ASTNode.java:2949)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:636)
	at org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:204)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:3036)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1393)
	at org.eclipse.jdt.core.dom.AST.convertCompilationUnit(AST.java:367)
	at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:202)
	at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:268)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:596)
	at org.eclipse.jdt.internal.core.CompilationUnit.makeConsistent(CompilationUnit.java:1145)
	at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.makeConsistent(ReconcileWorkingCopyOperation.java:173)
	at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:94)
	at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:736)
	at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:802)
	at org.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1322)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:131)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.access$0(JavaReconcilingStrategy.java:113)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:93)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:90)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:157)
	at org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile(CompositeReconcilingStrategy.java:92)
	at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile(JavaCompositeReconcilingStrategy.java:107)
	at org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:76)
	at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:210)
!SESSION 2018-12-28 09:41:57.932 -----------------------------------------------
eclipse.buildId=4.10.0.I20181206-0815
java.version=1.8.0_192
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US
Framework arguments:  -product org.eclipse.epp.package.java.product
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.java.product

!ENTRY org.eclipse.egit.ui 2 0 2018-12-28 09:42:09.963
!MESSAGE Warning: The environment variable HOME is not set. The following directory will be used to store the Git
user global configuration and to define the default location to store repositories: 'C:\Users\Stewart'. If this is
not correct please set the HOME environment variable and restart Eclipse. Otherwise Git for Windows and
EGit might behave differently since they see different configuration options.
This warning can be switched off on the Team > Git > Confirmations and Warnings preference page.
!SESSION 2018-12-29 10:16:58.197 -----------------------------------------------
eclipse.buildId=4.10.0.I20181206-0815
java.version=1.8.0_192
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US
Framework arguments:  -product org.eclipse.epp.package.java.product
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.java.product

!ENTRY org.eclipse.egit.ui 2 0 2018-12-29 10:17:18.402
!MESSAGE Warning: The environment variable HOME is not set. The following directory will be used to store the Git
user global configuration and to define the default location to store repositories: 'C:\Users\Stewart'. If this is
not correct please set the HOME environment variable and restart Eclipse. Otherwise Git for Windows and
EGit might behave differently since they see different configuration options.
This warning can be switched off on the Team > Git > Confirmations and Warnings preference page.
